{"version":3,"sources":["app.js","environment.js","index.js","main.js","renderers/bootstrap-form-renderer.js","resources/index.js","services/book-api.js","resources/attributes/tooltip.js","resources/elements/book-list.js","resources/elements/book-stats.js","resources/elements/book.js","resources/elements/books.js","resources/elements/edit-book.js","resources/elements/star-rating.js","resources/value-converters/book-status.js","resources/value-converters/date-format.js","resources/value-converters/filter.js","resources/value-converters/highlight.js","resources/value-converters/search-bold.js"],"names":["App","configureRouter","config","router","title","map","route","name","moduleId","debug","testing","Index","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","plugin","developmentLogging","start","then","setRoot","BootstrapFormRenderer","render","instruction","unrender","result","elements","element","remove","add","valid","formGroup","closest","classList","message","document","createElement","className","textContent","id","appendChild","querySelector","removeChild","querySelectorAll","length","BookApi","http","simulatedLatency","getBooks","fetch","response","json","books","getShelves","shelves","simulateFetch","getGenres","genres","saveBook","book","fetchResult","setTimeout","resolve","TooltipCustomAttribute","Element","attached","$","tooltip","placement","detached","BookList","eventAggregator","BookStats","originalNumberOfBooks","Book","editMode","markRead","readDate","Date","read","removeBook","publish","toggleEditMode","event","bind","subscribeToEvents","editModeChangedSubscription","subscribe","mode","unbind","dispose","Books","bookApi","bookTitle","loadBooks","loadGenres","loadShelves","addBook","push","toRemove","bookIndex","findIndex","Id","splice","bookRemovedSubscription","bookSavedSubscription","bookSaved","updatedBook","savedBook","savedBooks","EditBook","of","controller","temporaryBook","addRenderer","ratingChangedListener","rating","e","editingShelves","saved","resetTempBook","ratingElement","addEventListener","selectedShelves","filter","indexOf","shelf","selectedGenre","find","g","genre","selectedGenreChanged","newValue","oldValue","bookSaveCompleteSubscription","bookSaveComplete","editModeChanged","editModeNew","editModeOld","isDirty","differences","forOwn","value","key","different","d","Object","assign","cancel","starRatingViewModel","applyRating","save","validate","loading","publishBookSavedEvent","toggleEditShelves","unToggleEditShelves","removeEventListener","description","timesRead","customRule","obj","undefined","Number","isInteger","ensure","a","required","satisfiesRule","on","StarRating","stars","type","displayType","rated","hovered","forEach","star","index","rateStar","toggleOn","toggleOff","ratingFromIndex","rate","raiseChangedEvent","mouseOut","hoverIndex","applyHoverState","shouldApplyHover","toggleDisplayOn","toggleDisplayOff","mouseOver","starIndex","changeEvent","CustomEvent","dispatchEvent","BookStatusValueConverter","toView","DateFormatValueConverter","format","FilterValueConverter","array","searchTerm","item","itemMaches","itemValue","toUpperCase","HighlightValueConverter","SearchBoldValueConverter","replace","RegExp"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n  this.router = router;\n  config.title = 'My-Books';\n  config.map([ \n   { route: ['', 'home'], name: 'home', moduleId: 'index' },\n   { route: 'books', name: 'books', moduleId: './resources/elements/books'},\n  ]);\n  }\n}","export default {\n  debug: true,\n  testing: true\n};\n","export class Index\n{\n}","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-validation');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {\n  ValidationRenderer,\n  RenderInstruction,\n  ValidateResult\n} from 'aurelia-validation';\n\nexport class BootstrapFormRenderer {\n  render(instruction) {\n    for (let { result, elements } of instruction.unrender) {\n      for (let element of elements) {\n        this.remove(element, result);\n      }\n    }\n\n    for (let { result, elements } of instruction.render) {\n      for (let element of elements) {\n        this.add(element, result);\n      }\n    }\n  }\n\n  add(element, result) {\n    if (result.valid) {\n      return;\n    }\n\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n      return;\n    }\n\n    // add the has-error class to the enclosing form-group div\n    formGroup.classList.add('has-danger');\n\n    // add help-block\n    const message = document.createElement('div');\n    message.className = 'form-control-feedback mb-2 mr-sm-2 mb-sm-0';\n    message.textContent = result.message;\n    message.id = `validation-message-${result.id}`;\n\n    element.classList.add('form-control-danger');\n    \n    formGroup.appendChild(message);\n  }\n\n  remove(element, result) {\n    if (result.valid) {\n      return;\n    }\n\n    const formGroup = element.closest('.form-group');\n    if (!formGroup) {\n      return;\n    }\n\n    // remove help-block\n    const message = formGroup.querySelector(`#validation-message-${result.id}`);\n    if (message) {\n      formGroup.removeChild(message);\n\n      // remove the has-error class from the enclosing form-group div\n      if (formGroup.querySelectorAll('.help-block.validation-message').length === 0) {\n        formGroup.classList.remove('has-danger');\n        formGroup.classList.add('has-success');\n        element.classList.add('form-control-success');\n    \n      }\n    }\n  }\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {HttpClient} from 'aurelia-fetch-client';\nimport {inject} from 'aurelia-framework';\n\n@inject(HttpClient)\nexport class BookApi{\n    \n    constructor(http){\n        this.http = http;\n        this.simulatedLatency = 500;\n    }\n\n    getBooks(){\n\n        return this.http.fetch('books.json')\n                 .then(response => response.json())\n                 .then(books => {\n                   return books;\n                 });\n\n    }\n\n    getShelves(){\n\n        let shelves = [\n                        'Classics',\n                        'Want to read',\n                        'Research',\n                        'For the kids',\n                      ];\n                    \n        return this.simulateFetch(shelves);\n\n    }\n\n    getGenres(){\n\n        let genres = [ \n                        {id: 1, name:'Art'}, \n                        {id: 2, name:'Autobiographies'}, \n                        {id: 3, name:'Drama'}, \n                        {id: 4, name:'Childrens'}, \n                        {id: 5, name:'Fantasy'}, \n                        {id: 6, name:'History'}, \n                        {id: 7, name:'Mystery'}, \n                        {id: 8, name:'Romance'}, \n                        {id: 9, name:'Science'}, \n                        {id: 10,name:'Science Fiction'},\n                    ];\n\n        return this.simulateFetch(genres);\n    }\n\n    saveBook(book){\n        return this.simulateFetch(book);\n    }\n\n    simulateFetch(fetchResult){\n        return new Promise(resolve => {\n            setTimeout(() => {\n                resolve(fetchResult);\n            }, this.simulatedLatency);\n        });\n    }\n}","import {inject, bindable} from 'aurelia-framework';\n\n@inject(Element)\nexport class TooltipCustomAttribute{\n\n    @bindable title;\n    @bindable placement;\n\n    constructor(element){\n        this.element = element;\n    }\n\n    attached(){\n        $(this.element).tooltip({title: this.title, placement : this.placement});\n    }   \n    \n    detached(){\n        $(this.element).tooltip('dispose');\n    } \n}","import {bindable, inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class BookList {\n  @bindable books;\n  @bindable shelves;\n  @bindable genres;\n  \n  constructor(eventAggregator){\n    this.eventAggregator = eventAggregator;\n  }\n}","import {computedFrom, bindable} from 'aurelia-framework'; \n\nexport class BookStats{\n \n  @bindable books;\n  @bindable originalNumberOfBooks;\n\n  @computedFrom('originalNumberOfBooks', 'books.length')\n  get addedBooks(){\n      return this.books.length - this.originalNumberOfBooks; \n  }\n}\n","import {bindable, inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Book{\n\n    @bindable book;   \n    @bindable genres;\n    @bindable shelves;\n    @bindable searchTerm;\n\n    constructor(eventAggregator){\n        this.eventAggregator = eventAggregator;\n        this.editMode = false;\n    }\n\n    markRead(){\n        this.book.readDate = new Date();\n        this.book.read = true;\n    }\n\n    removeBook(){\n        this.eventAggregator.publish('book-removed', this.book);\n    }\n\n    toggleEditMode(event){\n        this.editMode = !this.editMode;\n    }\n\n    bind(){\n        this.subscribeToEvents();\n    }\n    \n    subscribeToEvents(){\n        this.editModeChangedSubscription = \n            this.eventAggregator.subscribe('edit-mode-changed', mode => {\n                                             this.editMode = mode; \n        });\n    }\n\n    unbind(){\n        this.editModeChangedSubscription.dispose();\n    }\n}","import {bindable, inject, computedFrom} from 'aurelia-framework';\nimport {BookApi} from '../../services/book-api';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(BookApi, EventAggregator)\nexport class Books {\n\n  constructor(bookApi, eventAggregator){\n    this.bookTitle = \"\"; \n    this.books = [];\n    this.bookApi = bookApi;\n    this.eventAggregator = eventAggregator;\n  }\n  bind(){\n    this.loadBooks();\n    this.loadGenres();\n    this.loadShelves();\n  }\n\n  loadGenres(){\n      this.bookApi.getGenres()\n          .then(genres =>{\n              this.genres = genres;\n          });\n  }\n\n  loadShelves(){\n      this.bookApi.getShelves()\n          .then(shelves => {\n              this.shelves = shelves;\n          });\n  }\n\n  addBook () {\n    this.books.push({title : this.bookTitle});\n    this.bookTitle = \"\";\n  }\n  \n  removeBook(toRemove){\n    \n    let bookIndex = _.findIndex(this.books, book => {\n      return book.Id === toRemove.Id;\n    });\n\n    this.books.splice(bookIndex, 1);\n  }\n\n\n  attached(){\n    this.subscribeToEvents();\n  }\n\n  subscribeToEvents(){\n      this.bookRemovedSubscription = \n           this.eventAggregator.subscribe('book-removed', \n                                bookIndex => this.removeBook(bookIndex));\n\n      this.bookSavedSubscription = \n      this.eventAggregator.subscribe('save-book', \n                                     book => this.bookSaved(book));\n  }\n\n  bookSaved(updatedBook){\n      this.bookApi\n          .saveBook(updatedBook)\n          .then((savedBook) =>{\n                let bookIndex = _.findIndex(this.books, book => book.Id === updatedBook.Id);\n                this.books[bookIndex] = updatedBook;\n                this.eventAggregator.publish(`book-save-complete-${savedBook.Id}`);\n          });\n  }\n  \n  loadBooks(){\n      this.bookApi.getBooks()\n                  .then(savedBooks => \n                        this.books = savedBooks);\n  }\n\n  @computedFrom('bookTitle.length') \n  get canAdd(){\n      return this.bookTitle.length === 0;\n  }\n\n  detached(){\n    this.bookRemovedSubscription.dispose();\n    this.bookSavedSubscription.dispose();\n  }\n}\n","import {bindable, inject, computedFrom, NewInstance} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {BootstrapFormRenderer} from '../../renderers/bootstrap-form-renderer';\nimport {ValidationRules, ValidationController} from 'aurelia-validation';\nimport _ from 'lodash';\n\n@inject(EventAggregator, NewInstance.of(ValidationController) )\nexport class EditBook{\n    \n    @bindable editMode;\n    @bindable book;\n    @bindable selectedGenre;\n    @bindable genres;\n    @bindable shelves;\n    temporaryBook = new Book();\n\n    constructor(eventAggregator,  controller ){\n        \n        this.controller = controller;\n        this.controller.addRenderer(new BootstrapFormRenderer());\n        this.eventAggregator = eventAggregator;\n        this.ratingChangedListener =  e => this.temporaryBook.rating = e.rating;\n        this.editingShelves = false;\n        this.saved = false;\n\n    }\n\n    bind(){\n        this.resetTempBook();\n        this.ratingElement.addEventListener(\"change\", this.ratingChangedListener);\n        this.selectedShelves = this.shelves.filter(shelf => this.temporaryBook.shelves.indexOf(shelf) !== -1);\n        this.selectedGenre = this.genres.find(g => g.id == this.book.genre);\n    }\n\n    selectedGenreChanged(newValue, oldValue){\n        if(!newValue) return;\n        this.temporaryBook.genre = newValue.id;\n    }\n\n    attached(){\n        this.bookSaveCompleteSubscription = \n            this.eventAggregator\n            .subscribe(`book-save-complete-${this.book.Id}`, \n                        () =>  this.bookSaveComplete());\n    }\n\n    editModeChanged(editModeNew, editModeOld){\n        if(editModeNew) this.resetTempBook();\n    }\n\n    @computedFrom('temporaryBook.title', \n                  'temporaryBook.description', \n                  'temporaryBook.rating', \n                  'temporaryBook.ownACopy', \n                  'temporaryBook.genre', \n                  'saved', \n                  'temporaryBook.shelves',\n                  'temporaryBook.timesRead')\n    get canSave(){\n        if(!this.temporaryBook.Id) return false;\n        \n        return this.isDirty();\n    }\n\n    isDirty(){\n     \n        let differences = [];\n        _.forOwn(this.temporaryBook, (value, key) => {\n            return differences.push({different : this.book[key] != value, key : key} ); \n        });\n\n        return differences.filter(d => d.different).length > 0;\n    }\n\n    resetTempBook(){\n        Object.assign(this.temporaryBook, this.book);\n    }\n\n    cancel(){\n        let book = Object.assign(new Book(), this.book);\n        this.temporaryBook = book;\n        this.starRatingViewModel.applyRating(this.temporaryBook.rating);\n        this.toggleEditMode();\n    }\n    \n    save(){\n        this.controller.validate()\n                        .then(result => {\n                            if (result.valid) {\n                                this.loading = true;\n                                this.publishBookSavedEvent();\n                            } \n                        });\n    }\n\n    toggleEditShelves(){\n        this.editingShelves = !this.editingShelves;\n    }\n\n    unToggleEditShelves(){\n        this.temporaryBook.shelves = this.selectedShelves;\n        this.editingShelves = !this.editingShelves;\n    }\n\n    bookSaveComplete(){\n        this.loading = false;\n        this.saved = true;\n        Object.assign(this.book, this.temporaryBook);\n\n        setTimeout(() => {\n           this.saved = false;\n           this.toggleEditMode();  \n        }, 500);  \n    }\n\n    publishBookSavedEvent(){\n        this.eventAggregator.publish('save-book', this.temporaryBook);\n    }\n\n    toggleEditMode(){\n        this.saved = false;\n        this.eventAggregator.publish('edit-mode-changed', !this.editMode );\n    }\n\n    detached(){\n        this.ratingElement.removeEventListener('change', this.ratingChangedListener);\n        this.bookSaveCompleteSubscription.dispose();\n    }\n}\n\nexport class Book {\n  title='';\n  description='';\n  timesRead = 0;\n}\n\nValidationRules.customRule(\n  'positiveInteger',\n  (value, obj) => value === null || value === undefined \n    || (Number.isInteger(value) || value >= 0),\n  `Books can only be read 0 or more times.` \n);\n\nValidationRules\n  .ensure(a => a.title).required()\n  .ensure('timesRead')\n  .required()\n  .satisfiesRule('positiveInteger')\n  .on(Book);\n","import {inject, bindable} from 'aurelia-framework';\n\n@inject(Element) // Inject the instance of this element\nexport class StarRating{\n    \n    @bindable rating;\n\n    constructor(element){\n\n        this.element = element;\n        this.stars = [\n                        { type: '-o', displayType: '-o', rated : false },\n                        { type: '-o', displayType: '-o', rated : false },\n                        { type: '-o', displayType: '-o', rated : false },\n                        { type: '-o', displayType: '-o', rated : false },\n                        { type: '-o', displayType: '-o', rated : false }\n                    ];\n\n        this.hovered = false;\n    }\n\n    bind(){\n        this.applyRating(this.rating);\n    }\n\n    applyRating(rating){\n        this.stars.forEach((star, index) => \n                            this.rateStar(star, rating, index));\n    }\n\n    rateStar(star, rating, index){\n \n        if(index < rating) this.toggleOn(star);\n        else {\n            this.toggleOff(star);\n        }\n        \n    }\n\n    toggleOn(star){\n        star.displayType = '';\n        star.type = '';\n        star.rated = true;\n    }\n\n    toggleOff(star){\n        star.displayType = '-o';\n        star.type = '-o';\n        star.rated = false;\n    }\n\n    ratingFromIndex(index, star){\n\n        if(index === 0 && star.rated) return 0;\n\n        return index + 1;\n\n    }\n\n    rate(index){\n\n        let rating = this.ratingFromIndex(index, this.stars[0]);\n\n        this.rating = rating;\n        \n        this.applyRating(rating);\n        \n        this.raiseChangedEvent();\n\n    }\n\n    mouseOut(hoverIndex){\n        \n        if(!this.hovered) return;\n\n        this.hovered = false;\n\n        this.applyHoverState(hoverIndex);\n       \n    }\n\n    applyHoverState(hoverIndex){\n         this.stars.forEach((star, index) =>{\n            if(!this.shouldApplyHover(index, hoverIndex, star)) return;\n\n            if(this.hovered){\n                this.toggleDisplayOn(star);\n            }\n            else{\n                 this.toggleDisplayOff(star);\n            }\n        }); \n    }\n\n    mouseOver(hoverIndex){\n        if(this.hovered) return;\n\n        this.hovered = true;\n\n        this.applyHoverState(hoverIndex);\n    }\n\n    toggleDisplayOff(star){\n        star.displayType = star.type; \n    }\n\n    toggleDisplayOn(star){\n        star.displayType = '';\n    }\n\n    shouldApplyHover(starIndex, hoverIndex, star){\n        return starIndex <= hoverIndex && !star.rated;\n    }\n\n    raiseChangedEvent(){\n        let changeEvent = new CustomEvent('change', {rating: this.rating});\n    \n        this.element.dispatchEvent(changeEvent);\n    }\n}","export class BookStatusValueConverter{\n    toView(value) {\n\n        switch(value){\n            case 'bad':\n                return 'fa-frown-o';\n            case 'good':\n                return 'fa-smile-o';\n            case 'ok':\n                return 'fa-meh-o';\n        }\n    \n    }\n}","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value) {\n    if(!value) return '';\n\n    return moment(value).format('MM/DD/YYYY h:mm:ss a');\n  }\n}","export class FilterValueConverter{\n  toView(array, searchTerm) {\n    return array.filter((item) => {\n\t  return searchTerm && searchTerm.length > 0 ? this.itemMaches(searchTerm,item): true;\t\n    });\n  }\n\n  itemMaches(searchTerm, value){\n     let itemValue = value.title;\n     \n     if(!itemValue) return false;\n     \n     return itemValue.toUpperCase().indexOf(searchTerm.toUpperCase()) !== -1;\n  }\n}","export class HighlightValueConverter{\n    toView(value) {\n        if(value && value.indexOf(\"<b>\") !== -1){\n            return `<span style='background-color:#eceeef; padding:10px'>${value}</span>`;\n        }\n        return value;\n    }\n}","export class SearchBoldValueConverter{\n    toView(value, searchTerm) {\n       if(!searchTerm) return value;\n       return value.replace(new RegExp(searchTerm, 'gi'), `<b>$&</b>`);\n    }\n}"],"sourceRoot":".."}